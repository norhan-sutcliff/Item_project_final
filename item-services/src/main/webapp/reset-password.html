<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/login.css">
  <style>
    .login-html {
      background: rgba(255, 182, 193, 0.85);
    }
    .login-form .group .button {
      background: teal;
      color: #fff;
    }
    .foot-lnk a {
      color: #fff;
      text-decoration: underline;
    }
  </style>
</head>
<body>
<div class="login-wrap">
  <div class="login-html">
    <h2 style="text-align:center; color:white; margin-bottom:25px;">Reset Password</h2>

    <div class="login-form">
      <form action="AuthController" method="post">
        <input type="hidden" name="action" value="FORGOT_PASSWORD">

        <div class="group">
          <label for="user" class="label">Username</label>
          <input id="user" name="username" type="text" class="input" required>
        </div>

        <div class="group">
          <label for="newpass" class="label">New Password</label>
          <input id="newpass" name="newPassword" type="password" class="input" data-type="password" required>
        </div>

        <div class="group">
          <button type="submit" class="button">Reset Password</button>
        </div>
      </form>

      <div class="foot-lnk" style="margin-top: 20px; text-align:center;">
        <a href="login.html">‚Üê Back to Sign In</a>
      </div>
    </div>

    <!-- Show message dynamically -->
    <div id="msgBox" style="text-align:center; margin-top:20px;"></div>
  </div>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  const msgBox = document.getElementById("msgBox");

  if (params.has("error")) {
    msgBox.textContent = params.get("error");
    msgBox.style.color = "red";
    msgBox.style.fontWeight = "bold";
  } else if (params.has("message")) {
    msgBox.textContent = params.get("message");
    msgBox.style.color = "lime";
    msgBox.style.fontWeight = "bold";
  }
});
</script>
</body>
</html>
